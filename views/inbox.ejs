<%- include('partials/header') -%>
<div class="root container-fluid">
  <%- include('partials/navigation') -%>
  <div class="message-container container-fluid">
    <ul class="messages-list list-group list-group-flush" data-messages>
      <li class="messages list-group-item">Welcome to chat app!</li>
      <% messages.forEach(function(message){ %>
      <li class="messages list-group-item">
        <strong><%= message.sender %> </strong>
        <%= message.content %><span
          ><%= new Date(message.time).toLocaleString() %></span
        >
      </li>
      <% }); %>
    </ul>
  </div>
  <div class="input-field container-fluid">
    <form action="">
      <div class="input-group mb-3">
        <input
          name="content"
          id="content"
          type="text"
          class="form-control"
          placeholder="Type here"
          aria-label="Type here"
        />
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="submit">Send</button>
        </div>
      </div>
    </form>
  </div>

  <div class="container-fluid">
    <h4>Online Users</h4>
    <ul data-user-list></ul>
  </div>
</div>

<script type="text/javascript">
const user_id = "<%= user._id %>"
const username = "<%= user.username %>"
</script>

<script type="text/javascript" src="/js/inbox.js"></script>
<%- include('partials/footer') -%>
